import { Canvas, Meta, Controls, ArgTypes, Story } from '@storybook/addon-docs/blocks';
import * as AlertStories from './AlertToast.stories';

<Meta of={AlertStories} />

# AlertToast üîî

La mol√©cule `AlertToast` est utilis√©e pour communiquer des messages syst√®me importants √† l'utilisateur.  
Elle combine une ic√¥ne s√©mantique, un titre, une description et une action de fermeture optionnelle.

---

### Playground

Utilisez le contr√¥leur pour simuler diff√©rents types de messages. Le bouton "R√©afficher" permet de tester la fermeture.

<Canvas of={AlertStories.Playground} />
<Controls of={AlertStories.Playground} />

---

### Variantes S√©mantiques

Le composant propose 4 variantes standardis√©es qui changent automatiquement la couleur et l'ic√¥ne associ√©e :

1.  **Info** : Information neutre (Mise √† jour, Note).
2.  **Success** : Action r√©ussie (Enregistrement, Paiement).
3.  **Warning** : Avertissement non bloquant (Maintenance, Session bient√¥t expir√©e).
4.  **Error** : Probl√®me critique (Serveur HS, Formulaire invalide).

<Canvas of={AlertStories.VariantesSemantiques} />

---

### Styles Alternatifs (Contenu)

L'alerte est flexible : elle peut ne contenir qu'un titre, ou voir son ic√¥ne surcharg√©e manuellement.

<Canvas of={AlertStories.StylesAlternatifs} />

---

### Comportement de Fermeture

Si la prop `closable` est active, une croix s'affiche. L'√©v√©nement `@close` est √©mis lors du clic, permettant au parent de masquer le composant (souvent via un `v-if`).

<Canvas of={AlertStories.Fermeture} />

---

### API (Props & Events)

<ArgTypes of={AlertStories} />

---

### Do's & Don'ts

#### 1. Usage & Pertinence

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Utiliser pour des retours d'actions asynchrones (ex: "Sauvegarde r√©ussie").</li>
      <li>Placer en haut de page (contexte global) ou pr√®s de l'√©l√©ment concern√© (contexte local).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<AlertToast 
  variant="success" 
  title="Profil mis √† jour" 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas utiliser pour des erreurs de validation de champ (utiliser le message d'erreur sous l'input).</li>
      <li>Ne pas abuser des alertes "Info" qui polluent l'interface.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<AlertToast title="Bienvenue sur le site" />`}
        </pre>
    </div>
  </div>

</div>

#### 2. Contenu & R√©daction

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>√ätre concis : Un titre court et une description de 1 ou 2 phrases max.</li>
      <li>Si l'erreur est technique, donner une piste de solution dans la description.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<AlertToast 
  variant="error" 
  title="Erreur serveur" 
  description="R√©essayez dans quelques minutes." 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas mettre de longs paragraphes.</li>
      <li>Ne pas utiliser de jargon technique incompr√©hensible pour l'utilisateur.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<AlertToast 
  title="NullPointerException" 
  description="Error at com.api.Service line 42..." 
/>`}
        </pre>
    </div>
  </div>

</div>

---

### Accessibilit√©

* **R√¥le ARIA** : Le composant utilise `role="alert"` (pour les erreurs) ou `role="status"` (pour info/succ√®s) afin d'√™tre annonc√© imm√©diatement par les lecteurs d'√©cran.
* **Focus** : Si l'alerte appara√Æt dynamiquement, le focus n'est pas forc√© dessus (sauf cas critique), mais elle est annonc√©e vocalement.
* **Contraste** : Les couleurs de fond et de texte respectent le ratio 4.5:1.