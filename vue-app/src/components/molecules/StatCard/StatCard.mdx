import { Canvas, Meta, Controls, ArgTypes } from '@storybook/addon-docs/blocks';
import * as StatStories from './StatCard.stories';

<Meta of={StatStories} />

# StatCard üìä

La mol√©cule `StatCard` sert √† afficher un indicateur de performance cl√© (KPI).  
Elle met en avant une valeur principale, accompagn√©e d'un contexte (ic√¥ne) et d'une indication de tendance (√©volution par rapport √† une p√©riode pr√©c√©dente).

---

### Playground

Utilisez le contr√¥leur pour tester l'affichage des diff√©rents √©tats (avec ou sans tendance, diff√©rents types de s√©mantique).

<Canvas of={StatStories.Playground} />
<Controls of={StatStories.Playground} />

---

### Exemple d'int√©gration (Dashboard)

Les `StatCard` sont con√ßues pour fonctionner en grille. Elles s'adaptent √† la largeur de leur conteneur.
Voici un exemple typique de tableau de bord m√©langeant des donn√©es financi√®res, d'engagement et techniques.

<Canvas of={StatStories.DashboardGrid} />

---

### API (Props)

<ArgTypes of={StatStories} />

---

### Do's & Don'ts

#### 1. Donn√©es & Formatage

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Formater les nombres pour qu'ils soient lisibles (s√©parateur de milliers, arrondis).</li>
      <li>Garder le label court et pr√©cis (1 √† 3 mots).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<StatCard 
  label="Chiffre d'Affaires" 
  value="12,5 k‚Ç¨" 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas afficher de donn√©es brutes avec trop de d√©cimales.</li>
      <li>Ne pas utiliser ce composant pour afficher du texte long (ce n'est pas une carte de contenu).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<StatCard 
  label="CA" 
  value="12543.987654 ‚Ç¨" 
/>`}
        </pre>
    </div>
  </div>

</div>

#### 2. S√©mantique & Couleurs

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Adapter la couleur de la tendance (`trendType`) au contexte m√©tier.</li>
      <li>Exemple : Une hausse de bugs est n√©gative (Rouge/Error), une baisse de churn est positive (Vert/Success).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple (Contexte invers√©) :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<StatCard 
  label="Bugs Critiques" 
  trend="+12%" 
  trend-type="error" 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas utiliser syst√©matiquement le vert pour une hausse (ex: Hausse des d√©penses).</li>
      <li>Ne pas utiliser d'ic√¥ne d√©corative qui n'a aucun rapport avec le label.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<StatCard 
  label="Pertes" 
  trend="+500‚Ç¨" 
  trend-type="success" 
/>`}
        </pre>
    </div>
  </div>

</div>

---

### Accessibilit√©

* **Ic√¥nes** : L'ic√¥ne principale est consid√©r√©e comme d√©corative (`aria-hidden="true"`) car le label explique d√©j√† le contenu.
* **Lecture** : Le composant est structur√© pour que le label soit lu avant la valeur par les lecteurs d'√©cran.
* **Contraste** : Les badges de tendance utilisent des couleurs conformes aux ratios de contraste AA sur le fond de la carte.