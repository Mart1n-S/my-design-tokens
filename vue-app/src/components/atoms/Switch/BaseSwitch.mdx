import { Canvas, Meta, Controls, ArgTypes, Story } from '@storybook/addon-docs/blocks';
import * as SwitchStories from './BaseSwitch.stories';

<Meta of={SwitchStories} />

# BaseSwitch üéöÔ∏è

L'atome `BaseSwitch` est un m√©canisme de bascule utilis√© pour activer ou d√©sactiver une option unique.  
Contrairement √† une case √† cocher (Checkbox), un Switch implique g√©n√©ralement une action imm√©diate (ex: activer le WiFi, le mode sombre).

---

### Playground

<Canvas of={SwitchStories.Playground} />
<Controls of={SwitchStories.Playground} />

---

### √âtats

Le Switch poss√®de deux √©tats binaires : Activ√© (ON) et D√©sactiv√© (OFF).

<div style={{ display: 'flex', gap: '20px', padding: '20px 0' }}>
  <Story of={SwitchStories.Inactive} />
  <Story of={SwitchStories.Active} />
</div>

---

### Gestion des Labels

Le composant accepte une prop `label` qui s'affiche √† c√¥t√© du toggle.  
Si le label est omis (pour un usage en en-t√™te de tableau par exemple), vous **devez** fournir un `aria-label` pour l'accessibilit√©.

<Canvas of={SwitchStories.WithoutLabel} />

---

### D√©sactiv√© (Disabled)

Utilisez cet √©tat si l'utilisateur n'a pas les permissions n√©cessaires pour modifier le r√©glage, ou si l'option d√©pend d'un autre r√©glage.

<div style={{ display: 'flex', gap: '20px', padding: '20px 0' }}>
  <Story of={SwitchStories.DisabledOff} />
  <Story of={SwitchStories.DisabledOn} />
</div>

---

### Contexte d'utilisation (Formulaire)

Les Switches sont souvent regroup√©s dans des panneaux de pr√©f√©rences.

<Canvas of={SwitchStories.InFormContext} />

---

### API (Props)

<ArgTypes of={SwitchStories} />

---

### Do's & Don'ts

Ce composant est souvent confondu avec la Checkbox. Voici comment choisir :

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Utiliser pour des changements d'√©tat <strong>imm√©diats</strong> (ex: Mode Avion).</li>
      <li>Utiliser des labels courts et directs (ex: "Notifications").</li>
      <li>Utiliser par d√©faut l'√©tat "OFF" si l'option est intrusive.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseSwitch 
  label="Mode Sombre" 
  v-model="isDarkMode" 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas utiliser pour valider un formulaire (ex: "J'accepte les CGU" -> Utiliser une <strong>Checkbox</strong>).</li>
      <li>Ne pas utiliser pour des choix multiples (ex: choisir 2 options parmi 5).</li>
      <li>Ne pas √©crire de labels ambigus (ex: "Pas d'emails" -> ON ou OFF ?).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseSwitch label="Accepter les conditions" />`}
        </pre>
    </div>
  </div>

</div>

---

### Accessibilit√©

* **Clavier** : Le Switch est focusable et s'active avec la barre `Espace`.
* **ARIA** : Utilise `role="switch"` et `aria-checked` pour communiquer son √©tat aux lecteurs d'√©cran.
* **Label** : Le label est li√© programmatiquement au switch via l'attribut `for` et `id`.