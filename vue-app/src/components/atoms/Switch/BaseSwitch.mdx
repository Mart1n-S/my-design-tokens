import { Canvas, Meta, Controls, ArgTypes, Story } from '@storybook/addon-docs/blocks';
import * as SwitchStories from './BaseSwitch.stories';

<Meta of={SwitchStories} />

# BaseSwitch üéöÔ∏è

L'atome `BaseSwitch` est un m√©canisme de bascule utilis√© pour activer ou d√©sactiver une option unique.  
Contrairement √† une case √† cocher (Checkbox), un Switch implique g√©n√©ralement une action imm√©diate (ex: activer le WiFi, le mode sombre).

---

### Playground

<Canvas of={SwitchStories.Playground} />
<Controls of={SwitchStories.Playground} />

---

### √âtats

Le Switch poss√®de deux √©tats binaires : Activ√© (ON) et D√©sactiv√© (OFF).

<div style={{ display: 'flex', gap: '20px', padding: '20px 0' }}>
  <Story of={SwitchStories.Inactive} />
  <Story of={SwitchStories.Active} />
</div>

---

### Gestion des Labels

Le composant accepte une prop `label` qui s'affiche √† c√¥t√© du toggle.  
Si le label est omis (pour un usage en en-t√™te de tableau par exemple), vous **devez** fournir un `aria-label` pour l'accessibilit√©.

<Canvas of={SwitchStories.WithoutLabel} />

---

### D√©sactiv√© (Disabled)

Utilisez cet √©tat si l'utilisateur n'a pas les permissions n√©cessaires pour modifier le r√©glage, ou si l'option d√©pend d'un autre r√©glage.

<div style={{ display: 'flex', gap: '20px', padding: '20px 0' }}>
  <Story of={SwitchStories.DisabledOff} />
  <Story of={SwitchStories.DisabledOn} />
</div>

---

### Contexte d'utilisation (Formulaire)

Les Switches sont souvent regroup√©s dans des panneaux de pr√©f√©rences.

<Canvas of={SwitchStories.InFormContext} />

---

### API (Props)

<ArgTypes of={SwitchStories} />

---

### Do's & Don'ts

#### 1. Usage : Switch vs Checkbox

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Utiliser pour des actions √† <strong>effet imm√©diat</strong> (ex: Activer le Wifi, Mode Sombre).</li>
      <li>Utiliser pour une option binaire ind√©pendante (On/Off).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseSwitch 
  label="Mode Avion" 
  v-model="airplaneMode" 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas utiliser pour valider un formulaire ou des CGU (utiliser une <strong>Checkbox</strong>).</li>
      <li>Ne pas utiliser pour s√©lectionner plusieurs √©l√©ments dans une liste (utiliser des Checkboxes).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseSwitch label="J'accepte les conditions" />`}
        </pre>
    </div>
  </div>

</div>

#### 2. R√©daction & Clart√©

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Utiliser des labels <strong>positifs</strong> pour √©viter la double n√©gation.</li>
      <li>Garder le label court (2-3 mots max).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseSwitch label="Recevoir la newsletter" />`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas utiliser de tournures n√©gatives ("Ne pas d√©ranger" -> Si ON, je suis d√©rang√© ou pas ?).</li>
      <li>Ne pas utiliser de questions ambigu√´s.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseSwitch label="Pas de publicit√©" />`}
        </pre>
    </div>
  </div>

</div>

---

### Accessibilit√©

* **Clavier** : Le Switch est focusable et s'active avec la barre `Espace`.
* **ARIA** : Utilise `role="switch"` et `aria-checked` pour communiquer son √©tat aux lecteurs d'√©cran.
* **Label** : Le label est li√© programmatiquement au switch via l'attribut `for` et `id`.