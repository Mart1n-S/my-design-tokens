import { Canvas, Meta, Controls, ArgTypes, Story } from '@storybook/addon-docs/blocks';
import * as TextareaStories from './BaseTextarea.stories';

<Meta of={TextareaStories} />

# BaseTextarea üìù

L'atome `BaseTextarea` permet la saisie de texte multiligne.  
Il offre des options de redimensionnement et g√®re les m√™mes √©tats de validation que le `BaseInput`.

---

### Playground

Utilisez le contr√¥leur ci-dessous pour tester le comportement de la zone de texte (lignes, redimensionnement...).

<Canvas of={TextareaStories.Playground} />
<Controls of={TextareaStories.Playground} />

---

### Redimensionnement

Vous pouvez contr√¥ler comment l'utilisateur peut redimensionner la zone :
* **Vertical** (D√©faut) : Permet d'ajuster la hauteur uniquement (recommand√©).
* **None** : Taille fixe d√©finie par `rows`.
* **Horizontal / Both** : Rarement utilis√© car peut casser la mise en page.

<Canvas of={TextareaStories.Redimensionnement} />

---

### √âtats Visuels

Le composant s'int√®gre harmonieusement avec les formulaires gr√¢ce √† ses √©tats standardis√©s :

1.  **Error** : Bordure rouge pour indiquer une validation √©chou√©e.
2.  **Disabled** : Gris√© et non-interactif.
3.  **Readonly** : Aspect standard mais non-modifiable (copie possible).

<Canvas of={TextareaStories.Etats} />

---

### API (Props)

<ArgTypes of={TextareaStories} />

---
### Do's & Don'ts

#### 1. Usage & Dimensions

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Utiliser <code>resize="vertical"</code> (d√©faut) pour permettre l'agrandissement sans casser la mise en page.</li>
      <li>D√©finir un nombre de <code>rows</code> initial adapt√© au contenu attendu (ex: 5 pour un message, 2 pour une adresse).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseTextarea 
  rows="5" 
  resize="vertical" 
  placeholder="Racontez votre histoire..."
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas utiliser pour des donn√©es courtes (Email, Nom...) -> Utiliser <strong>BaseInput</strong>.</li>
      <li>Ne pas utiliser <code>resize="both"</code> ou <code>horizontal</code> sauf si le design le pr√©voit sp√©cifiquement.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseTextarea resize="both" />`}
        </pre>
    </div>
  </div>

</div>

#### 2. Contraintes & Accessibilit√©

<div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>
  
  <div style={{ background: '#f0fdf4', border: '1px solid #bbf7d0', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#166534', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚úÖ √Ä faire (Do)</p>
    <ul>
      <li>Toujours associer √† un label explicite (via <code>FormField</code> ou <code>aria-label</code>).</li>
      <li>Utiliser l'attribut <code>maxlength</code> si la base de donn√©es a une limite stricte (ex: Bio Twitter).</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Bon exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseTextarea 
  aria-label="Biographie" 
  maxlength="280" 
/>`}
        </pre>
    </div>
  </div>

  <div style={{ background: '#fef2f2', border: '1px solid #fecaca', padding: '15px', borderRadius: '8px' }}>
    <p style={{ color: '#991b1b', marginTop: 0, fontSize: '24px', fontWeight: 'bold' }}>‚ùå √Ä ne pas faire (Don't)</p>
    <ul>
      <li>Ne pas bloquer le redimensionnement (<code>resize="none"</code>) si le texte peut √™tre long, cela frustre l'utilisateur.</li>
      <li>Ne pas utiliser le placeholder comme seul moyen d'instruction.</li>
    </ul>
    <div style={{ marginTop: '10px' }}>
        <strong>Mauvais exemple :</strong>
        <pre style={{ background: '#fff', padding: '10px', borderRadius: '4px', border: '1px solid #ddd', fontSize: '12px' }}>
{`<BaseTextarea 
  resize="none" 
  placeholder="Tapez ici (sans label)" 
/>`}
        </pre>
    </div>
  </div>

</div>
---

### Accessibilit√©

* **Labeling** : Comme pour l'input, ce composant n√©cessite un label externe ou un `aria-label` pour √™tre accessible aux lecteurs d'√©cran.
* **Focus** : Outline visible pour la navigation clavier.
* **Redimensionnement** : La poign√©e de redimensionnement reste accessible √† la souris.